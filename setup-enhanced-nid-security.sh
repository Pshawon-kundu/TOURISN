#!/bin/bash\n\n# Enhanced NID Verification Security Setup Script\n# This script installs all necessary dependencies and sets up the secure NID verification system\n\necho \"ğŸ”’ Setting up Enhanced NID Verification Security System...\"\necho \"===============================================\"\n\n# Navigate to backend directory\necho \"ğŸ“¦ Installing backend dependencies...\"\ncd backend\n\n# Install new security and OCR dependencies\nnpm install tesseract.js@5.0.4 sharp@0.33.1 express-rate-limit@7.1.5 helmet@7.1.0 validator@13.11.0 multer@1.4.5-lts.1\n\n# Install TypeScript types\nnpm install --save-dev @types/multer@1.4.11 @types/sharp@0.32.0 @types/validator@13.11.7\n\necho \"âœ… Backend dependencies installed!\"\n\n# Go back to root\ncd ..\n\necho \"ğŸ—„ï¸ Setting up database security tables...\"\necho \"Please run the following SQL script in your Supabase SQL Editor:\"\necho \"File: backend/migrations/005_enhanced_security_tables.sql\"\necho \"\"\necho \"ğŸ“Š Admin Dashboard created at: components/admin-nid-dashboard.tsx\"\necho \"ğŸ“š Security documentation: ENHANCED_NID_SECURITY_SYSTEM.md\"\necho \"\"\necho \"ğŸ”§ Configuration files created:\"\necho \"- backend/src/middleware/security.ts\"\necho \"- Updated: backend/src/controllers/nidVerificationController.ts\"\necho \"- Updated: backend/src/routes/nidVerificationRoutes.ts\"\necho \"\"\necho \"ğŸš€ Setup complete! Security features:\"\necho \"âœ“ Real OCR processing with Tesseract.js\"\necho \"âœ“ Enhanced image validation with Sharp\"\necho \"âœ“ Rate limiting (5 attempts/hour)\"\necho \"âœ“ Comprehensive security monitoring\"\necho \"âœ“ Bangladesh NID pattern validation\"\necho \"âœ“ Suspicious activity detection\"\necho \"âœ“ Admin dashboard for manual review\"\necho \"âœ“ GDPR-compliant data handling\"\necho \"\"\necho \"âš ï¸ IMPORTANT: Run the database migration script before testing!\"\necho \"ğŸ“– Read ENHANCED_NID_SECURITY_SYSTEM.md for complete details.\"\necho \"\"\necho \"ğŸ”’ Your NID verification system is now enterprise-grade secure! ğŸ›¡ï¸\"